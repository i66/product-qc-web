@model IPagedList<product_qc_web.Models.TDelivery>
@using X.PagedList;
@using X.PagedList.Mvc.Core;
@using X.PagedList.Mvc.Common;

@{
    ViewData["Title"] = "成品庫存與QC進度";
}

<link href="~/css/PagedList.css" rel="stylesheet" type="text/css" />
<h1 align="center">成品庫存與QC進度</h1>
<br />
<h4 style="color:blue;">成品：@Model.FirstOrDefault().ProductName</h4>
<hr />
<table class="table" style="width:100%">
    <thead>
        <tr>
            <th style="width:8%">
                項次
            </th>
            <th style="width:12%">
                @Html.ActionLink("完成時間", "Index", new { productName = @Model.FirstOrDefault().ProductName, sortOrder = ViewBag.QcFinishedTimeSortParm})
            </th>
            <th style="width:14%">
                @Html.ActionLink("工單號碼", "Index", new { productName = @Model.FirstOrDefault().ProductName, sortOrder = ViewBag.WorkOrderNumSortParm})
            </th>
            <th style="width:8%">
                @Html.DisplayNameFor(model => model.FirstOrDefault().MachineNum)
            </th>
            <th style="width:20%">
                @Html.ActionLink("出貨案場", "Index", new { productName = @Model.FirstOrDefault().ProductName, sortOrder = ViewBag.DeliveryDestinationSortParm })
            </th>
            <th style="width:30%">
                @Html.DisplayNameFor(model => model.FirstOrDefault().ExchangeReturnMalfunctionNote)
            </th>

            <th style="width:8%"></th>
        </tr>
    </thead>
    <tbody>
        @{
            int id = ViewBag.PageNumber?? 0;
        }
        @foreach (var item in Model)
        {
            id += 1;
            <tr onclick="location.href = '@Url.Action("Edit", new { item.ProductName, item.CurrentSort, item.Page, item.WorkOrderNum, item.MachineNum })'">
                <td>
                    @id
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.QcFinishedTime)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.WorkOrderNum)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.MachineNum)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DeliveryDestination)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ExchangeReturnMalfunctionNote)
                </td>
                <td>
                    @Html.ActionLink("編輯", "Edit", new { item.ProductName, item.CurrentSort, item.Page, item.WorkOrderNum, item.MachineNum })
                </td>
            </tr>
        }
    </tbody>
</table>
<nav aria-label="Page navigation">
    <ul class="pagination">
        @Html.PagedListPager((IPagedList)Model, page => Url.Action("Index", new { @Model.FirstOrDefault().ProductName, @Model.FirstOrDefault().CurrentSort, page }),
            new PagedListRenderOptions
            {
                LiElementClasses = new string[] { "page-item" },
                PageClasses = new string[] { "page-link" }
            })
    </ul>
</nav>